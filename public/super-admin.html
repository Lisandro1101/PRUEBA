<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üëë Panel de Super-Administrador</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* (Estilos sin cambios) */
        :root {
            --bee-yellow: #FACC15;
            --bee-black: #1F2937;
            --honey-gold: #F59E0B;
        }
        
        /* ‚≠êÔ∏è CORRECCI√ìN DE ESTILO ‚≠êÔ∏è */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bee-black);
            color: white;
            /* Se elimin√≥ display: flex y justify-content: center */
            padding: 1rem; /* Padding para m√≥viles */
        }
        
        /* ‚≠êÔ∏è CORRECCI√ìN DE ESTILO ‚≠êÔ∏è */
        .container {
            width: 100%;
            max-width: 600px;
            background-color: white;
            color: var(--bee-black);
            border-radius: 2rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            /* Padding m√°s peque√±o para m√≥vil, m√°s grande para desktop */
            padding: 1.5rem;
            /* Se a√±adi√≥ margin: auto para centrar */
            margin: 2rem auto;
        }
        
        @media (min-width: 640px) {
            .container {
                padding: 2.5rem;
            }
        }

        .input-field {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            margin-top: 0.5rem; /* Aumentado para m√°s espacio */
        }
        .input-label {
            display: block;
            font-weight: 700;
            margin-top: 1.25rem;
            margin-bottom: 0.25rem;
        }
        /* ‚≠êÔ∏è NUEVO: Estilo para inputs de icono */
        .icon-input {
            font-size: 1.5rem;
            text-align: center;
            padding: 0.5rem;
            width: 70px;
        }
        
        .btn-admin {
            background-color: var(--bee-black);
            color: var(--bee-yellow);
            font-weight: bold;
            border-radius: 1.5rem;
            padding: 0.75rem 1.5rem;
            transition: all 0.2s;
            width: 100%;
            margin-top: 1.5rem;
            border: 3px solid var(--bee-yellow);
        }
        .btn-admin:hover:not(:disabled) {
            background-color: #374151;
            transform: translateY(-2px);
        }
        .btn-admin:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        
        /* --- MEJORA: Wrapper de Color --- */
        .color-picker-wrapper {
            display: flex;
            align-items: center;
            gap: 0.75rem; /* 12px */
            flex-grow: 1;
            min-width: 150px; /* Evita que se encoja demasiado */
        }
        .color-picker-wrapper input[type="color"] {
            width: 44px; /* Tama√±o fijo */
            height: 44px;
            border-radius: 0.5rem;
            border: 2px solid #e5e7eb;
            padding: 0;
            cursor: pointer;
            flex-shrink: 0; /* No se encoge */
        }
        
        /* --- MEJORA: Interruptores (Toggles) --- */
        .toggle-wrapper {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.5rem; /* Espacio entre label y toggle */
            padding: 0.75rem;
            background-color: #f9fafb;
            border-radius: 0.75rem;
            border: 1px solid #e5e7eb;
        }
        .toggle-label {
            font-weight: 600;
            color: var(--bee-black);
            flex: 1; /* Ocupa el espacio disponible */
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 28px;
            flex-shrink: 0; /* No se encoge */
        }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 28px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: #4ade80; }
        input:checked + .slider:before { transform: translateX(22px); }

        /* --- ‚≠êÔ∏è ESTILOS DE LA LISTA DE EVENTOS ‚≠êÔ∏è --- */
        .question-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background-color: #f9fafb; /* gray-50 */
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb; /* gray-200 */
        }
        .q-display {
            flex-grow: 1;
            margin-right: 1rem;
        }
        /* Contenedor de botones */
        .question-item > div:last-child {
            display: flex;
            gap: 0.5rem; /* Espacio entre botones */
            flex-shrink: 0;
        }

        /* ‚≠êÔ∏è NUEVO BOT√ìN 'CARGAR' ‚≠êÔ∏è */
        .load-btn {
            background-color: #3b82f6; /* blue-500 */
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.75rem;
            line-height: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .load-btn:hover {
            background-color: #2563eb; /* blue-600 */
        }

        .delete-btn {
            background-color: #ef4444; /* red-500 */
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.75rem;
            line-height: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .delete-btn:hover {
            background-color: #dc2626; /* red-600 */
        }

        /* (Resto de estilos sin cambios) */
        details > summary {
            font-size: 1.25rem;
            font-weight: 700;
            cursor: pointer;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        details[open] > summary {
            margin-bottom: 1.5rem;
        }
        .grid-cols-2-responsive {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        @media (min-width: 640px) {
            .grid-cols-2-responsive {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* ‚≠êÔ∏è NUEVO: Estilo para slider de opacidad */
        .opacity-slider-wrapper {
            margin-top: 0.5rem;
        }
        .opacity-slider-wrapper input[type="range"] {
            width: 100%;
        }

    </style>
</head>
<body>

    <div id="login-container" class="container" style="max-width: 400px;">
        <h1 class="text-3xl font-black text-center mb-6">
            üëë Acceso de Admin
        </h1>
        <form id="login-form" class="space-y-4">
            <div>
                <label for="login-email" class="input-label">Email:</label>
                <input type="email" id="login-email" class="input-field" required>
            </div>
            <div>
                <label for="login-password" class="input-label">Contrase√±a:</label>
                <input type="password" id="login-password" class="input-field" required>
            </div>
            <button type="submit" class="btn-admin">Ingresar</button>
            <p id="login-error" class="text-center text-red-500 mt-4"></p>
        </form>
    </div>
    <div id="panel-admin" class="container" style="display: none;">
        
        <h1 class="text-3xl font-black text-center mb-6">
            üëë Panel de Eventos
        </h1>
        <p class="text-center text-gray-600 mb-6">
            Crea un nuevo evento o actualiza uno existente usando su ID.
        </p>

        <form id="event-form">
            
            <div>
                <label for="event-id" class="input-label">ID del Evento (¬°Importante!):</label>
                <div class="flex items-center gap-2">
                    <input type="text" id="event-id" class="input-field" 
                           placeholder="ej: boda-lucia-y-pablo" required>
                    <button type="button" id="load-event-btn" class="load-btn" style="padding: 0.75rem 1rem; height: fit-content;">
                        Buscar/Cargar
                    </button>
                </div>
                <p class="text-xs text-gray-500 mt-1">Escribe un ID y pulsa "Buscar/Cargar" para editarlo o crear uno nuevo.</p>

            </div>
            
            <div class="mt-6">
                <h2 class="text-xl font-bold mb-4">üöÄ Funcionalidades y Estado</h2>
                <div class="space-y-3">
                    <div class="toggle-wrapper">
                        <span class="toggle-label">üïπÔ∏è Habilitar M√≥dulo de Juegos</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="games-enabled" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="toggle-wrapper">
                        <span class="toggle-label">üü¢ Habilitar Evento (Activo)</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="event-active" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                        Si deshabilitas un evento, nadie podr√° ingresar.
                    </p>
                </div>
            </div>
            
            <details class="mt-6 border-t pt-4">
                <summary>üé® Tema Global</summary>
                
                <div>
                    <label class="input-label">Paleta de Colores Globales:</label>
                    <div class="flex flex-wrap gap-4 mt-2">
                        <div class="color-picker-wrapper">
                            <input type="color" id="color-primary" value="#FACC15">
                            <span class="text-sm">Primario<br>(--color-primary)</span>
                        </div>
                        <div class="color-picker-wrapper">
                            <input type="color" id="color-secondary" value="#F59E0B">
                            <span class="text-sm">Secundario<br>(--color-secondary)</span>
                        </div>
                        <div class="color-picker-wrapper">
                            <input type="color" id="color-text" value="#1F2937">
                            <span class="text-sm">Texto<br>(--color-text)</span>
                        </div>
                    </div>
                     <div class="flex flex-wrap gap-4 mt-2">
                        <div class="color-picker-wrapper">
                            <input type="color" id="color-success" value="#4CAF50">
                            <span class="text-sm">√âxito (Verde)<br>(--color-success)</span>
                        </div>
                        <div class="color-picker-wrapper">
                            <input type="color" id="color-danger" value="#E53935">
                            <span class="text-sm">Error (Rojo)<br>(--color-danger)</span>
                        </div>
                        <div class="color-picker-wrapper">
                            <input type="color" id="color-text-light" value="#FFFFFF">
                            <span class="text-sm">Texto Claro<br>(--color-text-light)</span>
                        </div>
                    </div>
                </div>

                <div class="mt-4">
                    <label class="input-label">Iconos y Emojis Globales:</label>
                    <div class="flex flex-wrap gap-4 mt-2">
                        <div>
                            <span class="text-sm">Principal</span>
                            <input type="text" id="icon-main" class="input-field icon-input" value="üêù" maxlength="2">
                        </div>
                        <div>
                            <span class="text-sm">Portal</span>
                            <input type="text" id="icon-portal" class="input-field icon-input" value="üí¨" maxlength="2">
                        </div>
                        <div>
                            <span class="text-sm">Trivia</span>
                            <input type="text" id="icon-trivia" class="input-field icon-input" value="‚úçÔ∏è" maxlength="2">
                        </div>
                        <div>
                            <span class="text-sm">Memoria</span>
                            <input type="text" id="icon-memory" class="input-field icon-input" value="üß†" maxlength="2">
                        </div>
                        <div>
                            <span class="text-sm">Ahorcado</span>
                            <input type="text" id="icon-hangman" class="input-field icon-input" value="üíÄ" maxlength="2">
                        </div>
                        <div>
                            <span class="text-sm">Ranking</span>
                            <input type="text" id="icon-ranking" class="input-field icon-input" value="üèÜ" maxlength="2">
                        </div>
                        <div>
                            <span class="text-sm">Ganar</span>
                            <input type="text" id="icon-win" class="input-field icon-input" value="üéâ" maxlength="2">
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <label for="font-family" class="input-label">Fuente Principal (Global):</label>
                    <select id="font-family" class="input-field">
                        <option value="'Inter', sans-serif">Inter (Moderna)</option>
                        <option value="'Poppins', sans-serif">Poppins (Elegante)</option>
                        <option value="'Times New Roman', serif">Times New Roman (Cl√°sica)</option>
                        <option value="'Arial', sans-serif">Arial (Simple)</option>
                        <option value="'Verdana', sans-serif">Verdana</option>
                    </select>
                </div>

                <div class="mt-4">
                    <label for="bg-image" class="input-label">Imagen de Fondo (Global):</label>
                    <input type="file" id="bg-image" class="input-field" accept="image/jpeg, image/png, image/webp">
                    <p class="text-xs text-gray-500 mt-1">Si subes una nueva, reemplazar√° a la anterior.</p>
                    
                    <div id="bg-image-preview" class="mt-2"></div>
                </div>
            </details>
            
            <details class="mt-6 border-t pt-4">
                <summary>üñºÔ∏è Personalizaci√≥n del Portal (index.html)</summary>
                
                <h3 class="text-lg font-bold">Contenedor Principal (.portal-container)</h3>
                <div class="grid-cols-2-responsive mt-2">
                    <div>
                        <label for="portal-bg" class="text-sm font-bold">Color de Fondo</label>
                        <div class="color-picker-wrapper">
                            <input type="color" id="portal-bg" value="#FFFFFF">
                        </div>
                        <div class="opacity-slider-wrapper">
                             <label for="portal-bg-opacity" class="text-sm font-bold">Opacidad Fondo (1.0 = S√≥lido)</label>
                             <input type="range" id="portal-bg-opacity" min="0.1" max="1" step="0.05" value="1.0" class="input-field">
                        </div>
                    </div>
                    <div>
                        <label for="portal-border-radius" class="text-sm font-bold">Radio de Borde</label>
                        <input type="text" id="portal-border-radius" class="input-field" placeholder="Ej: 1.5rem">
                    </div>
                </div>
                
                <h3 class="text-lg font-bold mt-6">T√≠tulo (h1)</h3>
                <div class="grid-cols-2-responsive mt-2">
                    <div class="color-picker-wrapper">
                        <input type="color" id="portal-title-color" value="#1F2937">
                        <span class="text-sm">Color del T√≠tulo</span>
                    </div>
                    <div>
                        <label for="portal-title-font-size" class="text-sm font-bold">Tama√±o de Fuente</label>
                        <input type="text" id="portal-title-font-size" class="input-field" placeholder="Ej: 2rem">
                    </div>
                </div>

                <h3 class="text-lg font-bold mt-6">Botones del Portal (.btn-portal)</h3>
                <div class="grid-cols-2-responsive mt-2">
                    <div class="color-picker-wrapper">
                        <input type="color" id="btn-portal-bg" value="#FACC15">
                        <span class="text-sm">Color de Fondo</span>
                    </div>
                    <div class="color-picker-wrapper">
                        <input type="color" id="btn-portal-text-color" value="#1F2937">
                        <span class="text-sm">Color de Texto</span>
                    </div>
                    <div>
                        <label for="btn-portal-border-radius" class="text-sm font-bold">Radio de Borde</s-label>
                        <input type="text" id="btn-portal-border-radius" class="input-field" placeholder="Ej: 0.75rem">
                    </div>
                     <div>
                        <label for="btn-portal-shadow-color" class="text-sm font-bold">Color de Sombra</label>
                        <input type="color" id="btn-portal-shadow-color" value="#F59E0B">
                    </div>
                </div>
            </details>

            <details class="mt-6 border-t pt-4">
                <summary>‚úçÔ∏è Personalizaci√≥n de Trivia (player.html)</summary>
                
                <h3 class="text-lg font-bold">Bot√≥n de Opci√≥n (.option-btn)</h3>
                <p class="text-xs text-gray-500 mb-3">Controla la apariencia de los botones de respuesta.</p>
                
                <div class="grid-cols-2-responsive mt-2">
                    <div class="color-picker-wrapper">
                        <input type="color" id="btn-trivia-bg" value="#ffb300">
                        <span class="text-sm">Fondo (Normal)</span>
                    </div>
                    <div class="color-picker-wrapper">
                        <input type="color" id="btn-trivia-bg-hover" value="#ff9900">
                        <span class="text-sm">Fondo (Hover)</span>
                    </div>
                    <div class="color-picker-wrapper">
                        <input type="color" id="btn-trivia-text-color" value="#FFFFFF">
                        <span class="text-sm">Color de Texto</span>
                    </div>
                     <div class="color-picker-wrapper">
                        <input type="color" id="btn-trivia-border-color" value="#e69900">
                        <span class="text-sm">Color de Borde</span>
                    </div>
                     <div class="color-picker-wrapper">
                        <input type="color" id="btn-trivia-shadow-color" value="#e69900">
                        <span class="text-sm">Color de Sombra</span>
                    </div>
                    <div>
                        <label for="btn-trivia-border-radius" class="text-sm font-bold">Radio de Borde (Forma)</label>
                        <input type="text" id="btn-trivia-border-radius" class="input-field" placeholder="Ej: 12px o 50px">
                    </div>
                     <div>
                        <label for="btn-trivia-font-size" class="text-sm font-bold">Tama√±o de Fuente</label>
                        <input type="text" id="btn-trivia-font-size" class="input-field" placeholder="Ej: 1.1em">
                    </div>
                    <div>
                        <label for="btn-trivia-padding" class="text-sm font-bold">Padding (Relleno)</label>
                        <input type="text" id="btn-trivia-padding" class="input-field" placeholder="Ej: 15px 20px">
                    </div>
                    <div>
                        <label for="btn-trivia-shadow" class="text-sm font-bold">Forma de Sombra</label>
                        <input type="text" id="btn-trivia-shadow" class="input-field" placeholder="Ej: 0 5px">
                    </div>
                </div>
            </details>
            
            <details class="mt-6 border-t pt-4">
                <summary>üß† Personalizaci√≥n de Memoria (memory.html)</summary>
                
                <h3 class="text-lg font-bold">Carta del Juego (.card / .card-back)</h3>
                <div class="grid-cols-2-responsive mt-2">
                    <div class="color-picker-wrapper">
                        <input type="color" id="mem-card-back-bg" value="#F59E0B">
                        <span class="text-sm">Fondo (Reverso)</span>
                    </div>
                    <div class="color-picker-wrapper">
                        <input type="color" id="mem-card-back-border-color" value="#1F2937">
                        <span class="text-sm">Borde (Reverso)</span>
                    </div>
                    <div>
                        <label for="mem-card-height" class="text-sm font-bold">Altura de la Carta</label>
                        <input type="text" id="mem-card-height" class="input-field" placeholder="Ej: 110px">
                    </div>
                    <div>
                        <label for="mem-card-border-radius" class="text-sm font-bold">Radio de Borde (Forma)</label>
                        <input type="text" id="mem-card-border-radius" class="input-field" placeholder="Ej: 10px">
                    </div>
                </div>
            </details>

            <details class="mt-6 border-t pt-4">
                <summary>üèÜ Personalizaci√≥n de Rankings</summary>
                
                <h3 class="text-lg font-bold">Ganador de Trivia (.top-winner-trivia)</h3>
                <div class="grid-cols-2-responsive mt-2">
                    <div class="color-picker-wrapper">
                        <input type="color" id="ranking-trivia-winner-bg" value="#FFCC00">
                        <span class="text-sm">Fondo</span>
                    </div>
                    <div class="color-picker-wrapper">
                        <input type="color" id="ranking-trivia-winner-text" value="#1F2937">
                        <span class="text-sm">Texto</span>
                    </div>
                    <div class="color-picker-wrapper">
                        <input type="color" id="ranking-trivia-winner-border" value="#F59E0B">
                        <span class="text-sm">Borde</span>
                    </div>
                </div>
                
                <h3 class="text-lg font-bold mt-6">Ganador de Memoria (.top-winner-memory)</h3>
                <div class="grid-cols-2-responsive mt-2">
                    <div class="color-picker-wrapper">
                        <input type="color" id="ranking-memory-winner-bg" value="#cceeff">
                        <span class="text-sm">Fondo</span>
                    </div>
                    <div class="color-picker-wrapper">
                        <input type="color" id="ranking-memory-winner-text" value="#0056b3">
                        <span class="text-sm">Texto</span>
                    </div>
                    <div class="color-picker-wrapper">
                        <input type="color" id="ranking-memory-winner-border" value="#007bff">
                        <span class="text-sm">Borde</span>
                    </div>
                </div>
            </details>
            <button type="submit" id="save-event-btn" class="btn-admin">
                Guardar Configuraci√≥n del Evento
            </button>
            <div id="status-message" class="text-center text-gray-700 font-medium mt-4"></div>

        </form>

        <div class="mt-8 border-t pt-6">
            <h2 class="text-2xl font-black mb-4">Eventos Existentes</h2>
            <ul id="existing-events-list" class="space-y-2">
                <li class="p-2 text-gray-500 italic text-center">Cargando eventos...</li>
            </ul>
        </div>
    </div>

    <script type="module" src="super-admin.js?v=1.0"></script>
</body>
</html>